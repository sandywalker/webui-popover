<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<head>
  <link rel="stylesheet" href="../src/jquery.webui-popover.css" />
  <script src="jquery.js" ></script>
  <script src="../src/jquery.webui-popover.js" ></script>
   <!--<script src="../dist/jquery.webui-popover.min.js" ></script>-->
   <!--<script src="http://sandywalker.github.io/webui-popover/dist/jquery.webui-popover.min.js" ></script>-->
  
  <style type="text/css">
  body{
    background-color: #aaa;
    padding:0;
    margin:0;
  }
  #popover_test{
    width: 500px;
    height: 400px;
    background: #00ccff;
    border: 1px solid gray;
    margin-left:200px;
    margin-top:100px;
  }
   #popover_test2{
    width: 20px;
    height: 20px;
    background: #00ccff;
    border: 1px solid gray;
    margin-left:200px;
  }

  .test-pop{
    width: 200px;
    height: 35px;
    background: #eee;
    border: 1px solid gray;
    margin-left:200px;  
    margin-top:10px;
    cursor:pointer;
  }


  #inline_test {
    width: 200px;
    height: 20px;
    background: #00ccff;
    border: 1px solid gray;
    margin-left:200px; 
  }

  .pull-left{
    float:left;
  }
  .pull-right{
    float:right;
  }
  </style>
  
</head>
<body>
    <div style="text-align:center">
      <a href="#" class="border-pos pull-left" data-placement="auto">a</a>
      <a href="#" class="border-pos" data-placement="auto">a</a>
      <a href="#" class="border-pos pull-right" data-placement="auto" >a</a>
    </div>

    <div id="popover_test"></div>
    <div id="popover_test2"></div>
    

    <div style="text-align:center">
      <a href="#" class="border-pos pull-left" >a</a>
      <a href="#" class="border-pos" data-placement="auto">a</a>
      <a href="#" class="border-pos pull-right" >a</a>
    </div>
    <!-- <img class="img-hover" data-hover="http://stylonica.com/wp-content/uploads/2014/03/cherry-blossom-spring1.jpg" src="https://avatars1.githubusercontent.com/u/8475219?v=3&s=96"> -->

    <div id="inline_test"></div>

    <form action="">
      <input type="text" id="input" class="editor" data-content="input message1" data-placement="right"  data-trigger="manual"/>
      <p>&nbsp;</p>
      <input type="text" id="input2" class="editor" data-content="input message2" data-placement="right" data-trigger="manual"/>
    </form>

    <div id="popover_test3" class="test-pop"></div>

    <a href="#!" id="aLink" style="float:right;" data-content="my content" data-title="mytitle" data-placement="auto-bottom" data-trigger="click" class="captcha-reload help-popover">d</a>  |
 
    <a href="#!" id="aLink" data-content="my content" data-title="mytitle" data-placement="auto-bottom" data-trigger="click" class="captcha-reload help-popover2">dismissible true</a>  

  
    <a href="#" id="popoverWithInput">show input popover</a>

    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>


 <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>

 <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>

 <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>

    <div style="text-align:center">
      <a href="#" class="border-pos pull-left" >a</a>
      <a href="#" class="border-pos" data-placement="auto">a</a>
      <a href="#" class="border-pos pull-right" >a</a>
    </div>

    <script type="text/javascript">
    $(document).ready(function(){
         $('#popover_test').webuiPopover({
                constrains: 'horizontal', 
                trigger:'click',
                multi: true,
                closeable:true,
                placement:'right-bottom',
                width:100,
                animation:'pop',
                content: 'content<br>dddd<br>dddd<br>dsfsdfsdf'
        });

         //console.log($('#popover_test').data('plugin_webuiPopover').getTriggerElement();
        

        $('#popover_test2').webuiPopover({
                constrains: 'horizontal', 
                trigger:'hover',
                multi: false,
                placement:'right-bottom',
                content: 'content<br>dddd<br>dddd<br>dsfsdfsdf<br>dddd<br>dddd<br>dsfsdfsdf'
        });


        var
            asyncSettings = { width:'auto',
                      height:'200',
                      closeable:true,
                      padding:false,
                      cache:false,
                      url:'https://api.github.com/',
                      type:'async',
                      content:function(data){
                        var html = '<ul class="list-group">';
                        for(var key in data){
                          html+='<li class="list-group-item"><a href="'+ data[key] +'" target="_blank">'
                          + '<i class="glyphicon glyphicon-leaf"></i> '+ key+'</a>'+'</li>';  
                        }
                        html+='</ul>';
                        return html;
                      }};

        $('#popover_test3').webuiPopover('destroy').webuiPopover($.extend({},asyncSettings));

        $('#popover_test2').on('click',function(e){
            e.preventDefault();
            alert(1);
        });

        $(document.body).on('click','.captcha-reload',function(e){
            e.preventDefault();
            alert(2);
        });

        $('.help-popover').webuiPopover({
              placement: 'auto-right',
              multi: false,
              cache:false,
              dismissible: false
        });

        $('.help-popover2').webuiPopover({
              placement: 'auto-right',
              multi: false,
              cache:false,
              dismissible: true
        });

      

         $('#inline_test').webuiPopover({
                constrains: 'horizontal', 
                trigger:'click',
                multi: true,
                placement:'auto',
                type:'async',
                url:'/demo/text.txt',
                cache:false,
                content: function(data){
                  return data;
                }
        });

        $('.img-hover').webuiPopover({
                          type: 'html',
                          content: function(data) {
                            var img = $("<img />").attr('src', $(this).attr('data-hover'))
                                  .load(function() {
                                      if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                          alert('broken image!');
                                      } else {
                                          console.log('abc');
                                          return img;
                                      }
                                  });
                          },
                          placement: 'auto',
                          trigger: 'hover',
                          constrains: 'vertical',
                          delay: 1,
                          multi: false,
                          arrow: true,
                          closeable: false,
                          padding: true
        });


        $('#popoverWithInput').webuiPopover({
            content:'<form action=""><input type="text" id="in" /></form>'
        }).on('shown.webui.popover',function(){
          console.log($('#in'));
           $('#in').focus();
        });

        $('.editor').webuiPopover({multi:false});
        $('.editor').on('click',function(){
            $(this).webuiPopover('show');
        });

        $('.border-pos').webuiPopover({
            width:500,
           title:'aaa',
           content:'dfdffff',
        });

      
    }); 
  </script>

    
</body>
</html>